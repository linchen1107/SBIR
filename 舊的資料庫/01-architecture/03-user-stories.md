# 附件七：使用者故事

## 1. 核心使用者故事

### **主題一：高效的料件查詢**

> **作為** 一名料件管理員，
> **我希望** 能在一個統一的平台上，透過關鍵字快速查詢料件，
> **以便** 我能迅速找到所需的料件規格，提高工作效率。

**接受標準 (Acceptance Criteria):**
- [x] 網站提供一個清晰的搜尋欄位。
- [x] 使用者可以輸入英文品名、料號等關鍵字進行查詢。
- [x] 系統能同時查詢 `public.nato_h6_item_name`, `public.inc`, `public.fsc` 等多個核心資料表。
- [x] 搜尋結果應在 3 秒內返回，並以清晰的列表形式展示。
- [x] 結果頁面需包含料件的核心資訊，如 INC 代碼、NATO H6 名稱、FSC 分類等。

---

### **主題二：便捷的資料匯出**

> **作為** 一名採購人員，
> **我希望** 能將查詢到的特定料件詳細資料匯出成 Word 文件，
> **以便** 我可以輕鬆地將這些資料用於製作採購報告或與供應商溝通。

**接受標準 (Acceptance Criteria):**
- [x] 在料件詳情頁面提供一個「匯出」按鈕。
- [x] 點擊按鈕後，系統能根據預設的模板生成一個 `.docx` 格式的 Word 文件。
- [x] Word 文件中應包含料件的詳細規格、圖片（如果可用）和相關代碼。
- [x] 檔案生成和下載過程應流暢，無明顯延遲。

---

### **主題三：安全的帳號管理**

> **作為** 一名系統使用者，
> **我希望** 能夠註冊一個個人帳號，並安全地登入系統，
> **以便** 我的查詢紀錄和個人設定可以被保存和保護。

**接受標準 (Acceptance Criteria):**
- [x] 提供使用者註冊、登入和登出功能。
- [x] 使用者密碼在存入 `web_app.users` 表時，必須經過安全的雜湊處理。
- [x] 系統透過 Flask-Login 管理使用者會話，確保連線狀態的安全性。
- [x] 使用者登入後可以看到自己的個人資料頁面。

---

### **主題四：標準化的開發與部署環境**

> **作為** 一名新加入的開發者，
> **我希望** 能透過一組簡單的 Docker 指令快速建立起完整的開發環境，
> **以便** 我能立即投入開發工作，而無需花費大量時間處理環境設定問題。

**接受標準 (Acceptance Criteria):**
- [x] 專案提供一個 `docker-compose.yml` 文件來定義所有服務。
- [x] 只需執行 `docker-compose up -d --build` 就能啟動所有必要的容器 (web, postgres)。
- [x] 提供清晰的指令稿（記錄於 `README.md`），用於初始化資料庫結構 (`public` & `web_app` schemas) 和匯入核心資料。
- [x] Flask-Migrate 用於管理 `web_app` schema 的變更，確保資料庫遷移的標準化。

---

### **主題五：精準的料號申編起點**

> **作為** 一名需要申請新料號的承辦人，
> **我希望** 能透過一個整合的搜尋介面，使用 FSC 或 INC 的關鍵字或代碼來精準地找到目標品項，即使我只知道俗名，
> **以便** 我能確保從正確的品項開始填寫申編單，避免後續錯誤。

**接受標準 (Acceptance Criteria):**
- [x] 提供一個統一的搜尋頁面，包含 FSC 和 INC 兩個輸入框。
- [x] 系統能自動識別輸入的是關鍵字（模糊搜尋）還是代碼（精確搜尋）。
- [x] 當輸入 INC 關鍵字時，系統應能比對俗名資料庫，並自動解析回對應的正式 INC。
- [x] 搜尋結果以 FSC 進行分組，並以階層式卡片呈現。
- [x] 如果結果是透過俗名找到的，介面上應有清晰的標示。
- [x] 使用者可以從結果中直接選擇一個 INC，進入申編單填寫頁面。

## 2. 史詩 (Epics) 與未來規劃

### **史詩一：智慧化申編輔助**
- **願景**: 建立一個引導式的料號申編流程，從一個支援俗名解析的整合式 FSC/INC 查詢開始，逐步引導使用者完成 FIIG 和 MRC 的填寫，並提供智慧推薦。
- **包含故事**:
  - [x] 整合的 FSC/INC 搜尋 (支援俗名)
  - [ ] FIIG 指南視覺化呈現
  - [x] MRC 屬性填寫表單
  - [x] 申編流程狀態追蹤 (基本)

### **史詩二：全面的使用者中心**
- **願景**: 打造功能完善的使用者中心，提供個人化的服務。
- **包含故事**:
  - [x] 查詢歷史紀錄
  - [x] 我的最愛收藏功能
  - [ ] 個人化備註
  - [ ] 訂閱與通知設定

### **史詩三：系統監控與維運儀表板**
- **願景**: 為系統管理員提供一個視覺化的後台，用於監控系統狀態和管理資料。
- **包含故事**:
  - 系統健康狀況監控
  - 資料匯入/匯出任務管理
  - 使用者活動分析
  - 系統日誌查詢介面

---
**文檔版本**: v4.0 (Docker-based)  
**更新日期**: 2025年8月7日
