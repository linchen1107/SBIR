# SmartCodexAI 專案第四季度 (2025年9月-12月) 開發計畫與查核點 (11/12月為暫定 視情況做更動)

**文件版本:** v4.3
**基準:** 根據最新指示，將 **SP-03** 任務升級為 AI 驅動的「**語意排序**」，以更智慧化的方式解決搜尋結果過多的問題。

---

## 九月：使用者介面完善與 AI 搜尋優化

**本月總目標:** 大幅改善使用者操作體驗，提供後台管理員所需的核心功能，並**利用 AI 語意排序技術**，從根本上優化申編前的搜尋流程。

| 查核點 ID | 任務內容 | 量化指標與產出 | 狀態 |
| :--- | :--- | :--- | :--- |
| **SP-01** | **實作**料號申編後端服務模組 | - **指標:** 開發 1 個 `ApplicationService` 模組，封裝對 `web_app.applications` 表的 CRUD 操作邏輯 (此為後續 UI 功能的基礎)。<br>- **產出:** `app/application/services.py` 核心服務模組。 | ☐ 待辦 |
| **SP-02** | 使用者可查看自己的料號申編單歷史 | - **指標:** 開發 1 個 `history.html` 頁面，能顯示當前登入使用者的所有申編單，包含狀態、日期與摘要等關鍵欄位，並提供分頁功能。<br>- **產出:** `app/templates/application/history.html` 模板，以及更新後的 `app/application/routes.py` 以支援歷史查詢。 | ☐ 待辦 |
| **SP-03** | **完善**後台申編單管理介面 | - **指標:** 基於現有的 `/admin/dashboard`，增加**搜尋、篩選 (按狀態/使用者) 及更詳細的欄位顯示**，並確保表格有良好的**分頁**功能。<br>- **產出:** 更新後的 `app/admin/routes.py` 邏輯與 `templates/admin/dashboard.html` 模板。 | ☐ 待辦 |

---

## 十月：AI 驅動的智慧搜尋引擎開發 (專注 Level 3)

**本月總目標：** 從根本上提升搜尋的智慧程度，建立 AI 驅動的 `UnifiedSearchService`，**完全專注於解決同義字匹配 (Level 3) 的挑戰**，包括動態關鍵字擴充與中英文翻譯搜尋。

| 查核點 ID | 任務內容 | 量化指標與產出 | 狀態 |
| :--- | :--- | :--- | :--- |
| **OC-01** | **導入 AI 語意排序，優化搜尋結果** | - **指標:** 開發一個「語意排序」模組。當使用者在申編頁面搜尋時，系統需使用 AI 計算查詢與所有結果之間的「語意相似度」，並**只顯示相似度最高的 Top 20% 結果**。<br>- **產出:** `app/search/ranking_service.py` 模組，以及更新後的 `app/application/routes.py` 搜尋邏輯。 | ☐ 待辦 |
| **OC-02** | **AI 關鍵字擴充 (解決 Level 3)** | - **指標:** 開發 `UnifiedSearchService` 模組。當 Level 1/2 搜尋無果時，該模組能：1. **動態生成** 3-5 個英文同義/近義詞進行擴充搜尋。2. **自動翻譯**中文關鍵字為英文後再進行擴充搜尋。<br>- **產出:** `app/search/unified_search_service.py` 模組及至少 5 個針對同義字擴充的單元測試。 | ☐ 待辦 |
| **OC-03** | 更新單元測試案例 | - **指標:** 為**九月開發**的核心申編與後台管理功能，撰寫至少 10 個新的單元測試案例，確保其穩定性。[[memory:7536380]]<br>- **產出:** `tests/test_application.py` 與 `tests/test_admin.py` 新測試檔案。 | ☐ 待辦 |

---

## 十一月：AI 輔助與 MRC 問答流程開發 (計畫不變)

**本月總目標：** 在優化後的搜尋基礎上，引入 AI 模型進行概念性整合，並完成複雜的 MRC 問答介面開發，將申編流程的核心環節打通。

| 查核點 ID | 任務內容 | 量化指標與產出 | 狀態 |
| :--- | :--- | :--- | :--- |
| **NV-01** | AI 輔助申編 (PoC) | - **指標:** 建立 1 個內部測試模組，能接收一段規格文字，呼叫 AI 模型 v0.1，並**預測 `inc_code` 與 `fiig_code`**，以供申編單參考。<br>- **產出:** `app/ai/suggestion_service.py` 模組及 `docs/testing/ai_poc_results.md` 測試結果記錄。 | ☐ 待辦 |
| **NV-02** | MRC 問答介面開發 | - **指標:** 針對料號申編表單，開發 1 個動態介面，能根據使用者選擇的 FIIG/INC，從 `v_fiig_mrc_requirements` 視圖載入對應的 MRC 問題，並將回答存入 `applications.mrc_data` JSON 欄位。<br> (參考: `docs/system_improvement_plan.md#1-mrc-填寫流程優化`) <br>- **產出:** 申編表單中的動態 MRC 前端元件。 | ☐ 待辦 |
| **NV-03** | AI 訓練資料整備 | - **指標:** 完成「柴油引擎操作及廠修技術手冊」至少 500 頁內容的數位化、清理與段落切分，格式化為可用於模型訓練的 JSONL 檔案。<br>- **產出:** `data/training/diesel_manual.jsonl` 訓練資料集。 | ☐ 待辦 |
| **NV-04** | 完善部署與資料庫管理文件 | - **指標:** 建立 `docs/deployment/02_Database_Management.md` 並更新 `01_Gunicorn_Deployment.md`，確保文件完整性。[[memory:7536390]] [[memory:7536384]]<br>- **產出:** 更新後的部署與資料庫管理文件。 | ☐ 待辦 |

---

## 十二月：專案總結、資安與未來規劃

**本月總目標：** 完成本年度開發任務的總結與驗收，建立基礎的資安與文件管理計畫草案，為下一階段的開發與合規要求做好準備。 (本月計畫不變)

| 查核點 ID | 任務內容 | 量化指標與產出 | 狀態 |
| :--- | :--- | :--- | :--- |
| **DC-01** | 完成使用者驗收測試 (UAT) | - **指標:** 針對本季度開發的 3 個主要功能（後台管理、強化搜尋、MRC問答），由至少 2 位非開發人員進行測試。<br>- **產出:** `docs/testing/Q4_UAT_Report.md`。 | ☐ 待辦 |
| **DC-02** | 建立 CMMC L3 資安管控計畫草案 | - **指標:** 撰寫 `docs/security/00_CMMC_L3_Plan.md` 文件草案，完成 `before.txt` D3 項目中提到的 6 大管控領域的大綱與初步內容。<br>- **產出:** 新的資安計畫文件草案。 | ☐ 待辦 |
| **DC-03** | 建立 S1000D 文件管理計畫草案 | - **指標:** 撰寫 `docs/design/05_S1000D_Management_Plan.md` 文件草案，完成 `before.txt` E2 項目中提到的 6 大章節的大綱與初步內容。<br>- **產出:** 新的文件管理計畫草案。 | ☐ 待辦 |
| **DC-04** | 撰寫 Q4 開發總結報告 | - **指標:** 撰寫 1 份 `docs/project_management/Q4_2024_Summary.md`，回顧本季度完成的 10 個以上查核點、遇到的挑戰與明年 Q1 的開發建議。<br>- **產出:** 季度總結報告。 | ☐ 待辦 |

---

## 附錄：智慧搜尋能力分析與開發藍圖

### 搜尋難度等級定義

- **Level 1 (完全匹配):** 問題與答案，文字與字數都正好相同。
- **Level 2 (子集合匹配):** 問題的字詞是答案字詞的字集合 (子文字正好相同，但答案字數較多)。
- **Level 3 (同義字匹配):** 問題的字詞，都沒有出現在答案字詞的集合當中 (同義字)。
- **Level 4 (間接匹配):** 問題不直接 (例如是商標名，而不是品名)，需要進一步的外部查詢或推論。
- **Level 5 (模糊/邏輯匹配):** 問題與答案的邏輯難以想像 (例如問題超長但沒有重點，或需要圖像識別)。

下表總結了系統在搜尋功能上的現況與本季度的核心開發目標。

| 搜尋難度等級 | 目前系統能力 | **本季度開發目標** |
| :--- | :--- | :--- |
| **Level 1: 完全匹配** | ✅ **已具備** (透過 SQL `=` 查詢) | *(已完成)* |
| **Level 2: 子集合匹配** | ✅ **已具備** (透過 SQL `ILIKE '%...%'` 查詢) | *(已完成)* |
| **Level 3: 同義字匹配** | ⚠️ **部分具備** (僅依賴固定的 `colloquial_inc_xref` 表) | **OC-01: AI 關鍵字擴充**<br>- 動態生成同義/近義詞<br>- 中英文翻譯後搜尋 |
| **Level 4: 間接匹配** | ❌ **無此能力** | *(本季度不包含)* |
| **Level 5: 模糊/邏輯匹配**| ❌ **無此能力** | *(長期願景，本季度不包含)* |
