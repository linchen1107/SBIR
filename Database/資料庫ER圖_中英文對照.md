# SBIR è£å‚™è³‡æ–™åº« ER åœ– - ä¸­è‹±æ–‡å°ç…§

## ğŸ“Š è³‡æ–™åº«æ¶æ§‹åœ–

æœ¬åœ–å±•ç¤º sbir_equipment_db è³‡æ–™åº«çš„å¯¦é«”é—œè¯åœ–ï¼ˆEntity-Relationship Diagramï¼‰ï¼ŒåŒ…å« **10 å€‹è³‡æ–™è¡¨**ï¼ˆV2.0 é‡æ§‹ç‰ˆï¼‰åŠå…¶é—œè¯é—œä¿‚ã€‚

**é‡æ§‹èªªæ˜**ï¼š
- âœ… ä»¥ Equipmentï¼ˆè£å‚™ï¼‰ç‚ºä¸­å¿ƒè¨­è¨ˆ
- âœ… ä¸‰å¤§ä¸»è¡¨ï¼šEquipmentã€Itemã€Supplier
- âœ… åˆä½µ BOM â†’ Equipment_Item_xrefï¼ˆå¢åŠ å¯é åº¦æ¬„ä½ï¼‰
- âœ… åˆä½µ ItemAttribute â†’ Itemï¼ˆç°¡åŒ–çµæ§‹ï¼‰
- âœ… é‡å‘½å PartNumber â†’ Part_Number_xrefï¼ˆçµ±ä¸€å‘½åï¼‰

---

## ğŸ¨ ER åœ–ï¼ˆMermaid èªæ³•ï¼‰

```mermaid
erDiagram
    %% ========================================
    %% æ ¸å¿ƒè¡¨ï¼šEquipment (è£å‚™ä¸»æª”) â­
    %% ========================================
    EQUIPMENT ||--o{ EQUIPMENTSPECIFICATION : "1å°å¤š"
    EQUIPMENT ||--o{ EQUIPMENT_ITEM_XREF : "å¤šå°å¤š"
    EQUIPMENT ||--o{ TECHNICALDOCUMENT : "1å°å¤š"

    %% ========================================
    %% æ ¸å¿ƒè¡¨ï¼šItem (å“é …ä¸»æª”) â­
    %% ========================================
    ITEM ||--o{ ITEMSPECIFICATION : "1å°å¤š"
    ITEM ||--o{ PART_NUMBER_XREF : "1å°å¤š"
    ITEM ||--o{ EQUIPMENT_ITEM_XREF : "å¤šå°å¤š"
    ITEM ||--o{ APPLICATIONFORMDETAIL : "1å°å¤š"

    %% ========================================
    %% æ ¸å¿ƒè¡¨ï¼šSupplier (å» å•†ä¸»æª”) â­
    %% ========================================
    SUPPLIER ||--o{ PART_NUMBER_XREF : "1å°å¤š"

    %% ========================================
    %% ApplicationForm (ç”³ç·¨å–®æª”)
    %% ========================================
    APPLICATIONFORM ||--o{ APPLICATIONFORMDETAIL : "1å°å¤š"

    %% ========================================
    %% è³‡æ–™è¡¨å®šç¾©
    %% ========================================

    EQUIPMENT {
        varchar equipment_id PK "å–®æ©Ÿè­˜åˆ¥ç¢¼CID"
        varchar equipment_name_zh "è£å‚™ä¸­æ–‡åç¨±"
        varchar equipment_name_en "è£å‚™è‹±æ–‡åç¨±"
        varchar equipment_type "è£å‚™å½¢å¼"
        varchar ship_type "è‰¦å‹"
        varchar position "è£è¨­åœ°é»"
        varchar parent_cid "ä¸Šå±¤è£å‚™CID"
        varchar eswbs_code "æ—ç¾¤çµæ§‹ç¢¼HSC"
        int installation_qty "è£ç½®æ•¸"
        int total_installation_qty "å…¨è‰¦è£ç½®æ•¸"
        varchar maintenance_level "ç¶­ä¿®ç­‰ç´š"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    EQUIPMENTSPECIFICATION {
        varchar equipment_id PK "å–®æ©Ÿè­˜åˆ¥ç¢¼(FK)"
        int spec_seq_no PK "ç‰¹æ€§èªªæ˜åºè™Ÿ"
        text spec_description "å–®æ©Ÿç‰¹æ€§èªªæ˜"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    EQUIPMENT_ITEM_XREF {
        varchar equipment_id PK "å–®æ©Ÿè­˜åˆ¥ç¢¼(FK)"
        varchar item_id PK "å“é …è­˜åˆ¥è™Ÿ(FK)"
        int installation_qty "é›¶é™„ä»¶è£ç½®æ•¸"
        varchar installation_unit "è£ç½®å–®ä½"
        int delivery_time "äº¤è²¨æ™‚é–“å¤©"
        decimal failure_rate_per_million "æ¯ç™¾è¬å°æ™‚æ•…éšœæ¬¡æ•¸"
        int mtbf_hours "å¹³å‡æ•…éšœé–“éš”"
        decimal mttr_hours "å¹³å‡ä¿®è­·æ™‚é–“"
        char is_repairable "æ˜¯å¦ç‚ºå¯ä¿®ä»¶"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    ITEM {
        varchar item_id PK "å“é …è­˜åˆ¥è™Ÿ"
        varchar item_id_last5 "å“é …è­˜åˆ¥ç¢¼å¾Œäº”ç¢¼"
        varchar nsn UK "NSN"
        varchar item_category "çµ±ä¸€çµ„é¡åˆ¥"
        varchar item_name_zh "ä¸­æ–‡å“å"
        varchar item_name_en "è‹±æ–‡å“å"
        varchar weapon_system_code "æ­¦å™¨ç³»çµ±ä»£è™Ÿ"
        varchar issue_unit "æ’¥ç™¼å–®ä½"
        decimal unit_price_usd "ç¾é‡‘å–®åƒ¹"
        int package_qty "å–®ä½åŒ…è£é‡"
        varchar storage_life_code "å­˜å„²å£½é™ä»£è™Ÿ"
        varchar security_code "æ©Ÿå¯†æ€§ä»£è™Ÿ"
        varchar manufacturing_capacity "è£½é€ èƒ½é‡"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    ITEMSPECIFICATION {
        serial spec_id PK "è¦æ ¼ID"
        varchar item_id FK "å“é …è­˜åˆ¥è™Ÿ"
        int spec_no "è¦æ ¼ç·¨è™Ÿ"
        varchar spec_zh "è¦æ ¼è³‡æ–™ä¸­æ–‡"
        varchar spec_en "è¦æ ¼è³‡æ–™è‹±æ–‡"
        varchar answer_zh "ä¸­ç­”"
        varchar answer_en "è‹±ç­”"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    SUPPLIER {
        serial supplier_id PK "å» å•†ID"
        varchar supplier_code UK "å» å•†ä¾†æºä»£è™Ÿ"
        varchar cage_code UK "å» å®¶ç™»è¨˜ä»£è™ŸCAGE"
        varchar supplier_name_zh "å» å•†ä¸­æ–‡åç¨±"
        varchar supplier_name_en "å» å®¶è£½é€ å•†è‹±æ–‡"
        varchar country_code "åœ‹å®¶ä»£ç¢¼"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    PART_NUMBER_XREF {
        serial part_number_id PK "é›¶ä»¶è™Ÿç¢¼ID"
        varchar part_number "é…ä»¶è™Ÿç¢¼PN"
        varchar item_id FK "å“é …è­˜åˆ¥è™Ÿ"
        int supplier_id FK "å» å•†ID"
        varchar obtain_level "ç²å¾—ç¨‹åº¦"
        boolean is_primary "æ˜¯å¦ç‚ºä¸»è¦é›¶ä»¶è™Ÿ"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    TECHNICALDOCUMENT {
        serial document_id PK "æ–‡ä»¶ID"
        varchar equipment_id FK "å–®æ©Ÿè­˜åˆ¥ç¢¼"
        varchar document_name "åœ–åæ›¸å"
        varchar document_version "ç‰ˆåˆ¥ç‰ˆæ¬¡"
        varchar shipyard_drawing_no "èˆ¹å» åœ–è™Ÿ"
        varchar document_type "è³‡æ–™é¡å‹"
        varchar language "èªè¨€"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }

    APPLICATIONFORM {
        serial form_id PK "è¡¨å–®ID"
        varchar form_no UK "è¡¨å–®ç·¨è™Ÿ"
        varchar submit_status "æé€ç‹€æ…‹"
        varchar applicant_accounting_code "ç”³è«‹å–®ä½æœƒè¨ˆç·¨è™Ÿ"
        date created_date "å»ºç«‹æ—¥æœŸ"
    }

    APPLICATIONFORMDETAIL {
        serial detail_id PK "æ˜ç´°ID"
        int form_id FK "è¡¨å–®ID"
        int item_seq "é …æ¬¡"
        varchar item_id FK "å“é …è­˜åˆ¥è™Ÿ"
        varchar document_source "æ–‡ä»¶ä¾†æº"
        varchar image_path "åœ–ç‰‡è·¯å¾‘"
        timestamp created_at "å»ºç«‹æ™‚é–“"
    }
```

---

## ğŸ“‹ è³‡æ–™è¡¨ä¸­è‹±æ–‡å°ç…§ç¸½è¡¨ï¼ˆV2.0ï¼‰

| è‹±æ–‡è¡¨å | ä¸­æ–‡è¡¨å | ç°¡ç¨± | ä¸»è¦ç”¨é€” |
|---------|---------|------|---------|
| **Equipment** | **è£å‚™ä¸»æª”** | è£å‚™ | â­ æ ¸å¿ƒè¡¨ï¼šç®¡ç†è‰¦è‰‡è£å‚™åŸºæœ¬è³‡æ–™ |
| **Item** | **å“é …ä¸»æª”** | å“é … | â­ æ ¸å¿ƒè¡¨ï¼šç®¡ç†é›¶ä»¶ã€ææ–™ç­‰å“é …åŸºæœ¬è³‡æ–™ï¼ˆå«å±¬æ€§ï¼‰ |
| **Supplier** | **å» å•†ä¸»æª”** | å» å•† | â­ æ ¸å¿ƒè¡¨ï¼šä¾›æ‡‰å•†/è£½é€ å•†åŸºæœ¬è³‡æ–™ |
| **Equipment_Item_xref** | **è£å‚™å“é …é—œè¯æª”** | è£å‚™-å“é … | è£å‚™èˆ‡å“é …çš„å¤šå°å¤šé—œè¯ï¼ˆå«å¯é åº¦è³‡æ–™ï¼‰ |
| **Part_Number_xref** | **é›¶ä»¶è™Ÿç¢¼é—œè¯æª”** | é›¶ä»¶è™Ÿ | å“é …-é›¶ä»¶è™Ÿ-å» å•†å¤šå°å¤šé—œè¯ |
| **EquipmentSpecification** | **è£å‚™ç‰¹æ€§èªªæ˜æª”** | è£å‚™ç‰¹æ€§ | è£å‚™çš„è©³ç´°ç‰¹æ€§èªªæ˜ï¼ˆ1:Nï¼‰ |
| **ItemSpecification** | **å“é …è¦æ ¼æª”** | å“é …è¦æ ¼ | å“é …çš„è©³ç´°è¦æ ¼èªªæ˜ï¼ˆ1:Nï¼‰ |
| **TechnicalDocument** | **æŠ€è¡“æ–‡ä»¶æª”** | æŠ€è¡“æ–‡ä»¶ | è£å‚™ç›¸é—œæŠ€è¡“æ–‡ä»¶èˆ‡åœ–é¢ |
| **ApplicationForm** | **ç”³ç·¨å–®æª”** | ç”³ç·¨å–® | ç”³ç·¨å–®ä¸»æª” |
| **ApplicationFormDetail** | **ç”³ç·¨å–®æ˜ç´°æª”** | ç”³ç·¨æ˜ç´° | ç”³ç·¨å–®æ˜ç´°è³‡æ–™ |

**å·²åˆªé™¤çš„è¡¨ï¼ˆåˆä½µåˆ°å…¶ä»–è¡¨ï¼‰**ï¼š
- âŒ **BOM** â†’ åˆä½µåˆ° Equipment_Item_xrefï¼ˆå¯é åº¦è³‡æ–™ï¼‰
- âŒ **ItemAttribute** â†’ åˆä½µåˆ° Itemï¼ˆå“é …å±¬æ€§ï¼‰

---

## ğŸ”— é—œè¯é—œä¿‚èªªæ˜

### æ ¸å¿ƒé—œè¯ï¼šEquipmentï¼ˆè£å‚™ä¸»æª”ï¼‰â­

ä»¥ Equipment ç‚ºä¸­å¿ƒçš„è¨­è¨ˆæ¶æ§‹ï¼š

| é—œè¯è¡¨ | é—œè¯é¡å‹ | é—œä¿‚ | èªªæ˜ |
|--------|---------|------|------|
| **EquipmentSpecification** | 1:N | Equipment â†’ EquipmentSpecification | ä¸€å€‹è£å‚™å¯æœ‰å¤šå€‹ç‰¹æ€§èªªæ˜ |
| **Equipment_Item_xref** | N:M | Equipment â†” Item | è£å‚™åŒ…å«å“ªäº›å“é …ï¼ˆå«æ•¸é‡ã€å¯é åº¦ï¼‰ |
| **TechnicalDocument** | 1:N | Equipment â†’ TechnicalDocument | è£å‚™çš„æŠ€è¡“æ–‡ä»¶ |

### æ¬¡è¦æ ¸å¿ƒï¼šItemï¼ˆå“é …ä¸»æª”ï¼‰â­

| é—œè¯è¡¨ | é—œè¯é¡å‹ | é—œä¿‚ | èªªæ˜ |
|--------|---------|------|------|
| **ItemSpecification** | 1:N | Item â†’ ItemSpecification | ä¸€å€‹å“é …å¯æœ‰å¤šå€‹è¦æ ¼èªªæ˜ï¼ˆæœ€å¤š5çµ„ï¼‰ |
| **Part_Number_xref** | N:M | Item â†” Supplier | å“é …çš„é›¶ä»¶è™Ÿï¼Œä¾†è‡ªä¸åŒå» å•† |
| **Equipment_Item_xref** | N:M | Item â†” Equipment | å“é …è¢«å“ªäº›è£å‚™ä½¿ç”¨ |
| **ApplicationFormDetail** | N:1 | Item â† ApplicationFormDetail | å“é …è¢«å“ªäº›ç”³ç·¨å–®å¼•ç”¨ |

### ç¬¬ä¸‰ä¸»è¡¨ï¼šSupplierï¼ˆå» å•†ä¸»æª”ï¼‰â­

| é—œè¯è¡¨ | é—œè¯é¡å‹ | é—œä¿‚ | èªªæ˜ |
|--------|---------|------|------|
| **Part_Number_xref** | 1:N | Supplier â†’ Part_Number_xref | å» å•†æä¾›çš„é›¶ä»¶è™Ÿ |

### å…¶ä»–é—œè¯

| é—œè¯è¡¨A | é—œè¯è¡¨B | é—œè¯é¡å‹ | èªªæ˜ |
|---------|---------|---------|------|
| **ApplicationForm** | **ApplicationFormDetail** | 1:N | ç”³ç·¨å–®çš„æ˜ç´° |

---

## ğŸ¯ è³‡æ–™æµå‘åœ–ï¼ˆV2.0 é‡æ§‹ç‰ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         è³‡æ–™è¼¸å…¥ä¾†æº                         â”‚
â”‚          ï¼ˆExcel Mè¡¨ï¼š19M, 20M, 2M, 3M, 16M, 18Mï¼‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¬¬ä¸€éšæ®µï¼šä¸‰å¤§ä¸»è¡¨å»ºç«‹                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1ï¸âƒ£ Supplier (å» å•†ä¸»æª”) â­       - ä¾†æºï¼š19M, 20M           â”‚
â”‚  2ï¸âƒ£ Equipment (è£å‚™ä¸»æª”) â­      - ä¾†æºï¼š2M, 3M             â”‚
â”‚  3ï¸âƒ£ Item (å“é …ä¸»æª”) â­           - ä¾†æºï¼š19M                â”‚
â”‚     â””â”€ åŒ…å«åŸ ItemAttribute æ¬„ä½                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç¬¬äºŒéšæ®µï¼šé—œè¯è¡¨å»ºç«‹                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4ï¸âƒ£ Part_Number_xref (é›¶ä»¶è™Ÿé—œè¯) - ä¾†æºï¼š20M, 19M          â”‚
â”‚  5ï¸âƒ£ Equipment_Item_xref (è£å‚™å“é …) - ä¾†æºï¼š18M              â”‚
â”‚     â””â”€ åŒ…å«åŸ BOM å¯é åº¦æ¬„ä½                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç¬¬ä¸‰éšæ®µï¼šè¼”åŠ©è³‡æ–™å»ºç«‹                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  6ï¸âƒ£ TechnicalDocument (æŠ€è¡“æ–‡ä»¶)      - ä¾†æºï¼šå¾…è£œå……        â”‚
â”‚  7ï¸âƒ£ EquipmentSpecification (è£å‚™ç‰¹æ€§) - ä¾†æºï¼š16M           â”‚
â”‚  8ï¸âƒ£ ItemSpecification (å“é …è¦æ ¼)      - ä¾†æºï¼šå¾…è£œå……        â”‚
â”‚  9ï¸âƒ£ ApplicationForm (ç”³ç·¨å–®)          - ä¾†æºï¼šå¾…è£œå……        â”‚
â”‚  ğŸ”Ÿ ApplicationFormDetail (ç”³ç·¨æ˜ç´°)   - ä¾†æºï¼šå¾…è£œå……        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ‡‰ç”¨ç³»çµ±                            â”‚
â”‚         ï¼ˆWebä»‹é¢ã€APIã€å ±è¡¨ç³»çµ±ã€æŸ¥è©¢ç³»çµ±ï¼‰                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ç°¡åŒ–ç‰ˆé—œè¯åœ–ï¼ˆæ–‡å­—ç‰ˆï¼‰

```
                        ApplicationForm (ç”³ç·¨å–®æª”)
                               â”‚
                               â”‚ 1:N
                               â†“
                    ApplicationFormDetail (ç”³ç·¨å–®æ˜ç´°)
                               â”‚
                               â”‚ N:1
                               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                 â”‚
    â”‚          EQUIPMENT (è£å‚™ä¸»æª”) â­                â”‚
    â”‚              æ ¸å¿ƒè¡¨                             â”‚
    â”‚                                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚              â”‚              â”‚
              â”‚ 1:N          â”‚ N:M          â”‚ 1:N
              â†“              â†“              â†“
       EquipmentSpec  Equipment_Item_xref  TechnicalDoc
       (è£å‚™ç‰¹æ€§)           â”‚              (æŠ€è¡“æ–‡ä»¶)
                            â”‚
                            â”‚ N:M
                            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                 â”‚
    â”‚              ITEM (å“é …ä¸»æª”) â­                 â”‚
    â”‚              (å«ItemAttributeå±¬æ€§)              â”‚
    â”‚                                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚           â”‚           â”‚
         â”‚ 1:N       â”‚ 1:N       â”‚ N:M
         â†“           â†“           â†“
    ItemSpec   Part_Number_xref  ApplicationFormDetail
    (è¦æ ¼)           â”‚           (ç”³ç·¨æ˜ç´°)
                     â”‚ N:1
                     â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                 â”‚
    â”‚            SUPPLIER (å» å•†ä¸»æª”) â­               â”‚
    â”‚                                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ ä¸»éµèˆ‡å¤–éµå°ç…§è¡¨

### ä¸»éµé¡å‹

| ä¸»éµé¡å‹ | è³‡æ–™è¡¨ | ä¸»éµæ¬„ä½ | ä¸­æ–‡èªªæ˜ |
|---------|--------|---------|---------|
| **SERIALè‡ªå‹•ç·¨è™Ÿ** | Supplier | supplier_id | å» å•†ID |
| | Part_Number_xref | part_number_id | é›¶ä»¶è™Ÿç¢¼ID |
| | TechnicalDocument | document_id | æ–‡ä»¶ID |
| | ItemSpecification | spec_id | è¦æ ¼ID |
| | ApplicationForm | form_id | è¡¨å–®ID |
| | ApplicationFormDetail | detail_id | æ˜ç´°ID |
| **æ¥­å‹™é‚è¼¯éµ** | Equipment | equipment_id | å–®æ©Ÿè­˜åˆ¥ç¢¼(CID) |
| | Item | item_id | å“é …è­˜åˆ¥è™Ÿ(NIIN) |
| **è¤‡åˆä¸»éµ** | Equipment_Item_xref | (equipment_id, item_id) | è£å‚™-å“é … |
| | EquipmentSpecification | (equipment_id, spec_seq_no) | è£å‚™-åºè™Ÿ |

### é‡è¦å¤–éµé—œè¯

| å­è¡¨ | å¤–éµæ¬„ä½ | çˆ¶è¡¨ | åˆªé™¤è¦å‰‡ | èªªæ˜ |
|------|---------|------|---------|------|
| ItemSpecification | item_id | Item | CASCADE | åˆªé™¤å“é …æ™‚é€£å¸¶åˆªé™¤è¦æ ¼ |
| Part_Number_xref | item_id | Item | CASCADE | åˆªé™¤å“é …æ™‚é€£å¸¶åˆªé™¤é›¶ä»¶è™Ÿ |
| Part_Number_xref | supplier_id | Supplier | SET NULL | åˆªé™¤å» å•†æ™‚é›¶ä»¶è™Ÿçš„å» å•†IDè¨­ç‚ºNULL |
| Equipment_Item_xref | equipment_id | Equipment | CASCADE | åˆªé™¤è£å‚™æ™‚é€£å¸¶åˆªé™¤é—œè¯ |
| Equipment_Item_xref | item_id | Item | CASCADE | åˆªé™¤å“é …æ™‚é€£å¸¶åˆªé™¤é—œè¯ |
| EquipmentSpecification | equipment_id | Equipment | CASCADE | åˆªé™¤è£å‚™æ™‚é€£å¸¶åˆªé™¤ç‰¹æ€§ |
| TechnicalDocument | equipment_id | Equipment | CASCADE | åˆªé™¤è£å‚™æ™‚é€£å¸¶åˆªé™¤æ–‡ä»¶ |
| ApplicationFormDetail | form_id | ApplicationForm | CASCADE | åˆªé™¤ç”³ç·¨å–®æ™‚é€£å¸¶åˆªé™¤æ˜ç´° |
| ApplicationFormDetail | item_id | Item | SET NULL | åˆªé™¤å“é …æ™‚æ˜ç´°çš„å“é …IDè¨­ç‚ºNULL |

---

## ğŸ“ è³‡æ–™åŒ¯å…¥é †åºå»ºè­°

æ ¹æ“šå¤–éµä¾è³´é—œä¿‚ï¼Œå»ºè­°æŒ‰ä»¥ä¸‹é †åºåŒ¯å…¥è³‡æ–™ï¼š

1. **ç¬¬ä¸€æ‰¹ï¼ˆç„¡ä¾è³´ï¼‰- ä¸‰å¤§ä¸»è¡¨**
   - âœ… Supplier (å» å•†ä¸»æª”)
   - âœ… Equipment (è£å‚™ä¸»æª”)
   - âœ… Item (å“é …ä¸»æª”)
   - âœ… ApplicationForm (ç”³ç·¨å–®æª”)

2. **ç¬¬äºŒæ‰¹ï¼ˆä¾è³´ç¬¬ä¸€æ‰¹ï¼‰**
   - âœ… ItemSpecification (å“é …è¦æ ¼æª”) - ä¾è³´ Item
   - âœ… Part_Number_xref (é›¶ä»¶è™Ÿç¢¼é—œè¯æª”) - ä¾è³´ Item, Supplier
   - âœ… EquipmentSpecification (è£å‚™ç‰¹æ€§æª”) - ä¾è³´ Equipment
   - âœ… TechnicalDocument (æŠ€è¡“æ–‡ä»¶æª”) - ä¾è³´ Equipment

3. **ç¬¬ä¸‰æ‰¹ï¼ˆä¾è³´ç¬¬ä¸€ã€äºŒæ‰¹ï¼‰**
   - âœ… Equipment_Item_xref (è£å‚™å“é …é—œè¯æª”) - ä¾è³´ Equipment, Item
   - âœ… ApplicationFormDetail (ç”³ç·¨å–®æ˜ç´°æª”) - ä¾è³´ ApplicationForm, Item

---

## ğŸ¨ åœ–ä¾‹èªªæ˜

### Mermaid åœ–ä¾‹
- `||--o{` : ä¸€å°å¤šé—œä¿‚ï¼ˆOne-to-Manyï¼‰
- `}o--o{` : å¤šå°å¤šé—œä¿‚ï¼ˆMany-to-Manyï¼‰
- `||--||` : ä¸€å°ä¸€é—œä¿‚ï¼ˆOne-to-Oneï¼‰
- `PK` : Primary Keyï¼ˆä¸»éµï¼‰
- `FK` : Foreign Keyï¼ˆå¤–éµï¼‰
- `UK` : Unique Keyï¼ˆå”¯ä¸€éµï¼‰

### è³‡æ–™è¡¨æ¨™è¨˜
- â­ : æ ¸å¿ƒè¡¨
- ğŸ”‘ : ä¸»éµæ¬„ä½
- ğŸ”— : å¤–éµæ¬„ä½
- ğŸ“ : é¸å¡«æ¬„ä½
- âœ… : å¿…å¡«æ¬„ä½

---

## ğŸ“¦ V2.0 é‡æ§‹ç¸½çµ

### é‡æ§‹å‰ï¼ˆV1.0ï¼‰ï¼š12 å€‹è¡¨
- Supplier, Equipment, Item, ItemAttribute, PartNumber
- Equipment_Item_xref, BOM
- TechnicalDocument, EquipmentSpecification, ItemSpecification
- ApplicationForm, ApplicationFormDetail

### é‡æ§‹å¾Œï¼ˆV2.0ï¼‰ï¼š10 å€‹è¡¨
- **ä¸‰å¤§ä¸»è¡¨**ï¼šSupplier, Equipment, Item
- **å…©å€‹é—œè¯è¡¨**ï¼šPart_Number_xref, Equipment_Item_xref
- **äº”å€‹è¼”åŠ©è¡¨**ï¼šEquipmentSpecification, ItemSpecification, TechnicalDocument, ApplicationForm, ApplicationFormDetail

### é‡æ§‹è®Šæ›´
1. âœ… **BOM â†’ Equipment_Item_xref**
   - å°‡ BOM çš„å¯é åº¦æ¬„ä½ï¼ˆdelivery_time, mtbf_hours, mttr_hours, failure_rate_per_million, is_repairableï¼‰åˆä½µåˆ° Equipment_Item_xref
   - ä¸å†ä½¿ç”¨ Item-Item è‡ªé—œè¯ï¼Œæ”¹ç‚º Equipment-Item é—œè¯

2. âœ… **ItemAttribute â†’ Item**
   - å°‡ ItemAttribute çš„æ‰€æœ‰æ¬„ä½ï¼ˆ14å€‹å±¬æ€§æ¬„ä½ï¼‰åˆä½µåˆ° Item ä¸»è¡¨
   - ç°¡åŒ– 1:1 é—œä¿‚ï¼Œæ¸›å°‘ JOIN æ“ä½œ

3. âœ… **PartNumber â†’ Part_Number_xref**
   - è¡¨åçµ±ä¸€ä½¿ç”¨ xref å‘½åè¦ç¯„
   - çµæ§‹ä¸è®Š

---

**æ–‡ä»¶ç‰ˆæœ¬**: 2.0
**å»ºç«‹æ—¥æœŸ**: 2025-11-11
**è³‡æ–™åº«**: sbir_equipment_db V2.0 (é‡æ§‹ç‰ˆ)
**ç¶­è­·å–®ä½**: SBIR å°ˆæ¡ˆåœ˜éšŠ
